(function(e){function t(t){for(var n,l,u=t[0],i=t[1],o=t[2],d=0,f=[];d<u.length;d++)l=u[d],Object.prototype.hasOwnProperty.call(c,l)&&c[l]&&f.push(c[l][0]),c[l]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);b&&b(t);while(f.length)f.shift()();return r.push.apply(r,o||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,u=1;u<a.length;u++){var i=a[u];0!==c[i]&&(n=!1)}n&&(r.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},c={app:0},r=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/taiwan-air-indicators-dashboard/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var o=0;o<u.length;o++)t(u[o]);var b=i;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"3ce3":function(e,t,a){"use strict";a("84ee")},"50d8":function(e,t,a){"use strict";a("c529")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),c=(a("07ac"),{class:"flex"}),r={class:"flex statistics"},l=Object(n["f"])("footer",null,[Object(n["f"])("p",null,"資料來源：g0v"),Object(n["f"])("p",null,"Copyright © 2019 HexSchool. All rights reserved.")],-1);function u(e,t,a,u,i,o){var b=Object(n["m"])("Title"),d=Object(n["m"])("Ruler"),f=Object(n["m"])("Divider"),s=Object(n["m"])("AreaDetial"),O=Object(n["m"])("Area");return Object(n["h"])(),Object(n["d"])("main",null,[Object(n["f"])("section",null,[Object(n["f"])("div",c,[Object(n["f"])(b,{cities:e.counties,onOnChange:e.handleChangeCounty,value:e.selectCounty},null,8,["cities","onOnChange","value"]),Object(n["f"])(d)]),Object(n["f"])(f,{city:e.selectSiteDetail.County,date:e.selectSiteDetail.PublishTime},null,8,["city","date"]),Object(n["f"])("div",r,[Object(n["f"])(s,{detail:e.selectSiteDetail},null,8,["detail"]),Object(n["f"])("div",null,[(Object(n["h"])(!0),Object(n["d"])(n["a"],null,Object(n["l"])(Object.values(e.selectCountyDetail),(function(t){return Object(n["h"])(),Object(n["d"])(O,{name:t.SiteName,number:t.AQI,key:t.SiteName,onOnClick:e.handleClickSite},null,8,["name","number","onOnClick"])})),128))])])]),l])}a("99af"),a("4160"),a("caad"),a("d3b7"),a("2532"),a("159b");var i=a("5530"),o=a("ade3"),b=a("2909"),d=(a("96cf"),a("1da1")),f=Object(n["o"])("data-v-78f89185");Object(n["j"])("data-v-78f89185");var s={class:"divider"},O={class:"divider__city"},v=Object(n["f"])("div",null,null,-1),j={class:"divider__date"};Object(n["i"])();var p=f((function(e,t,a,c,r,l){return Object(n["h"])(),Object(n["d"])("div",s,[Object(n["f"])("p",O,Object(n["n"])(e.city),1),v,Object(n["f"])("p",j,Object(n["n"])(e.date)+" 更新",1)])})),m=Object(n["g"])({props:{city:{type:String,default:""},date:{type:String,default:""}}});a("8d3d");m.render=p,m.__scopeId="data-v-78f89185";var h=m,y=Object(n["o"])("data-v-3e4ce4a8");Object(n["j"])("data-v-3e4ce4a8");var g={class:"title"},_=Object(n["f"])("p",null,"空氣品質指標(AQI)",-1),C=Object(n["f"])("option",{value:"",selected:"",disabled:"",hidden:""},"請選擇地區",-1);Object(n["i"])();var S=y((function(e,t,a,c,r,l){return Object(n["h"])(),Object(n["d"])("div",g,[_,Object(n["f"])("select",{onChange:t[1]||(t[1]=function(){return e.handleChange.apply(e,arguments)}),value:e.value},[C,(Object(n["h"])(!0),Object(n["d"])(n["a"],null,Object(n["l"])(e.cities,(function(e){return Object(n["h"])(),Object(n["d"])("option",{key:e,value:e},Object(n["n"])(e),9,["value"])})),128))],40,["value"])])})),k=Object(n["g"])({props:{cities:{type:Array,default:function(){return[]}},value:{type:String,default:""}},setup:function(e,t){var a=t.emit;function n(e){a("on-change",e.target.value)}return{handleChange:n}}});a("7dec");k.render=S,k.__scopeId="data-v-3e4ce4a8";var x=k,w=Object(n["o"])("data-v-9ff3cba8");Object(n["j"])("data-v-9ff3cba8");var A={class:"ruler"};Object(n["i"])();var P=w((function(e,t,a,c,r,l){return Object(n["h"])(),Object(n["d"])("div",A,[(Object(n["h"])(!0),Object(n["d"])(n["a"],null,Object(n["l"])(e.data,(function(e,t){return Object(n["h"])(),Object(n["d"])("div",{class:"ruler__block",key:t},[Object(n["f"])("div",{class:e.color},Object(n["n"])(e.range),3),Object(n["f"])("div",null,Object(n["n"])(e.text),1)])})),128))])})),D=Object(n["g"])({props:{},setup:function(){var e=[{range:"0 ~ 50",text:"良好",color:"green"},{range:"51 ~ 100",text:"普通",color:"yellow"},{range:"101 ~ 151",text:"對敏感族群 不健康",color:"orange"},{range:"151 ~ 200",text:"對所有族群 不健康",color:"red"},{range:"201 ~ 300",text:"非常不健康",color:"blue"},{range:"301 ~ 400",text:"危害",color:"purple"}];return{data:e}}});a("50d8");D.render=P,D.__scopeId="data-v-9ff3cba8";var N=D,I=(a("b0c0"),Object(n["o"])("data-v-1b448cd3"));Object(n["j"])("data-v-1b448cd3");var M={class:"area__name"};Object(n["i"])();var T=I((function(e,t,a,c,r,l){return Object(n["h"])(),Object(n["d"])("div",{class:"area",onClick:t[1]||(t[1]=function(t){return e.$emit("on-click",e.name)})},[Object(n["f"])("p",M,Object(n["n"])(e.name),1),Object(n["f"])("p",{class:["area__number",e.colorClassName]},Object(n["n"])(e.number),3)])})),R=(a("a9e3"),Object(n["g"])({props:{name:{type:String,default:""},number:{type:[Number,String],default:0}},setup:function(e){var t=[0,51,101,151,201,301],a=["green","yellow","orange","red","blue","purple"],c=Object(n["b"])((function(){var n="";return t.forEach((function(t,c){e.number>=t&&(n=a[c])})),n}));return{colorClassName:c}}}));a("3ce3");R.render=T,R.__scopeId="data-v-1b448cd3";var Q=R,E=Object(n["o"])("data-v-5d7aff1f");Object(n["j"])("data-v-5d7aff1f");var J={class:"area-detial"},q={class:"area-detial__content"};Object(n["i"])();var H=E((function(e,t,a,c,r,l){var u=Object(n["m"])("Area");return Object(n["h"])(),Object(n["d"])("div",J,[Object(n["f"])(u,{name:e.detail.SiteName,number:e.detail.AQI},null,8,["name","number"]),Object(n["f"])("div",q,[(Object(n["h"])(!0),Object(n["d"])(n["a"],null,Object(n["l"])(e.data,(function(e){return Object(n["h"])(),Object(n["d"])("div",{class:"area-detial__content-item",key:e.abbreviation},[Object(n["f"])("p",null,[Object(n["e"])(Object(n["n"])(e.name),1),Object(n["f"])("span",null,Object(n["n"])(e.abbreviation),1)]),Object(n["f"])("p",null,Object(n["n"])(e.value),1)])})),128))])])})),$=Object(n["g"])({components:{Area:Q},props:{detail:{type:Object,default:function(){}}},setup:function(e){var t=Object(n["b"])((function(){return[{name:"臭氧",abbreviation:"O3(ppb)",value:e.detail.O3},{name:"懸浮微粒",abbreviation:"PM10 (μg/m³)",value:e.detail.PM10},{name:"細懸浮微粒",abbreviation:"PM2.5 (μg/m³)",value:e.detail["PM2.5"]},{name:"一氧化碳",abbreviation:"CO (ppm)",value:e.detail.CO},{name:"二氧化硫",abbreviation:"SO2 (ppb)",value:e.detail.SO2},{name:"二氧化氮",abbreviation:"NO2 (ppb)",value:e.detail.NO2}]}));return{data:t}}});a("bcfe");$.render=H,$.__scopeId="data-v-5d7aff1f";var z=$,B=Object(n["g"])({name:"App",components:{Divider:h,Title:x,Ruler:N,Area:Q,AreaDetial:z},setup:function(){var e=Object(n["k"])([]),t=Object(n["k"])({}),a=Object(n["k"])(""),c=Object(n["k"])({}),r=Object(n["k"])({});function l(){return u.apply(this,arguments)}function u(){return u=Object(d["a"])(regeneratorRuntime.mark((function n(){var l,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("https://data.epa.gov.tw/api/v1/aqx_p_432?limit=100000&api_key=9be7b239-557b-4c10-9775-78cadfc555e9&format=json");case 3:return l=n.sent,n.next=6,l.json();case 6:if(n.t0=n.sent,n.t0){n.next=9;break}n.t0={};case 9:u=n.t0,d=u.records,d.forEach((function(a){e.value.includes(a.County)||(e.value=[].concat(Object(b["a"])(e.value),[a.County])),t.value[a.County]?t.value[a.County]=Object(i["a"])(Object(i["a"])({},t.value[a.County]),{},Object(o["a"])({},a.SiteName,a)):t.value[a.County]=Object(o["a"])({},a.SiteName,a)})),a.value=e.value[0],c.value=t.value[a.value],r.value=Object.values(c.value)[0],n.next=20;break;case 17:n.prev=17,n.t1=n["catch"](0),console.log("Oops, error",n.t1);case 20:case"end":return n.stop()}}),n,null,[[0,17]])}))),u.apply(this,arguments)}function f(e){a.value=e,c.value=t.value[a.value],r.value=Object.values(c.value)[0]}function s(e){r.value=c.value[e]}return l(),{counties:e,details:t,selectCounty:a,selectCountyDetail:c,selectSiteDetail:r,handleChangeCounty:f,handleClickSite:s}}});a("9cdc");B.render=u;var F=B;Object(n["c"])(F).mount("#app")},"5b38":function(e,t,a){},"7dec":function(e,t,a){"use strict";a("84c3")},"84c3":function(e,t,a){},"84ee":function(e,t,a){},"8d3d":function(e,t,a){"use strict";a("aea0")},"9cdc":function(e,t,a){"use strict";a("c701")},aea0:function(e,t,a){},bcfe:function(e,t,a){"use strict";a("5b38")},c529:function(e,t,a){},c701:function(e,t,a){}});
//# sourceMappingURL=app.ee19c3e5.js.map